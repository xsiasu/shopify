{% assign main_menu = linklists['all-menu'] %}
<div class="width">
  {% comment %} header top [logo, hamburger, uitl menu] {% endcomment %}
  <div class="header-top">
    <div class="logo-area">
      <a href="/" class="logo"
        ><img
          src="{{ section.settings.logo | img_url: 'master' }}"
          alt="{{site.name}}"

          width="165"
      ></a>
    </div>
    <button class="header-hamburger">
      <span class="line"></span>
      <span class="line"></span>
      <span class="line"></span>
    </button>

    <div class="">
      <ul class="list-util">
        {% for link in section.settings.utilMenu.links %}
          <li class="util-item">
            {% if link.title == 'ログイン' %}
              <a href="{{ link.url }}"><i class="bi bi-person"></i>{{ link.title }}</a>
            {% elsif link.title == 'カート' %}
              <a href="{{ link.url }}"><i class="bi bi-cart"></i>{{ link.title }}</a>
            {% elsif link.title == 'ヘルプ' %}
              <a href="{{ link.url }}"><i class="bi bi-headset"></i>{{ link.title }}</a>
            {% else %}
              <a href="{{ link.url }}">{{ link.title }}</a>
            {% endif %}
          </li>
        {% endfor %}
      </ul>
    </div>
  </div>
  {% comment %} header bottom [all catetory, main menu, side menu] {% endcomment %}
  <div class="header-bottom">
    <div class="wrap-header-nav">
      <div class="gnb">
        <div class="left">
          <div class="cate">
            <button class="btn-cate">
              <span class="icon-hamburger">
                <span class="line"></span>
                <span class="line"></span>
                <span class="line"></span>
              </span>

              <span class="txt-menu">カテゴリー</span>
            </button>
            <div class="wrap-gnb-container">
              <div class="wrap-gnb-inner-container">
                <div class="col">
                  <div class="tit-cate-area">
                    <h1 class="txt-tit">
                      {{ main_menu.title }}
                    </h1>
                  </div>
                  <ul class="list-cate">
                    {% for link in section.settings.allMenu.links %}
                      <li class="cate-item">
                        <a class="link" href="{{link.url}}"
                          ><span>{{ link.title }}</span></a
                        >
                      </li>
                    {% endfor %}
                  </ul>
                </div>
                <div class="col">
                  <div class="tit-cate-area">
                    <h1 class="txt-tit">トレンドキーワード</h1>
                  </div>
                  <ul class="list-cate">
                    <li>ヴィーガン</li>
                  </ul>
                </div>
                <div class="col">
                  {% for block in section.blocks %}
                    {% if block.type == 'image' %}
                      <a href="" style="display:block;max-width: min(100%, {{ block.settings.banner01_width }}px);">
                        <img
                          loading="lazy"
                          src="{{block.settings.image | img_url: 'master'}}"
                          alt=""
                          width="100%"
                        >
                      </a>
                    {% endif %}
                  {% endfor %}
                </div>
                <div class="col">
                  <a
                    hrf="{{section.settings.banner01_link}}"
                    style="display:block;max-width: min(100%, {{ section.settings.banner01_width }}px);"
                  >
                    <img src="{{ section.settings.banner01 | img_url: 'master' }}" width="100%">
                    <p>{{ section.settings.banner01_title }}</p>
                  </a>
                </div>
                <div class="col">
                  <a
                    hrf="{{section.settings.banner02_link}}"
                    style="display:block;max-width: min(100%, {{ section.settings.banner02_width }}px);"
                  >
                    <img src="{{ section.settings.banner02 | img_url: 'master' }}" width="100%">
                    <p>{{ section.settings.banner02_title }}</p>
                  </a>
                </div>
              </div>
            </div>
          </div>
          <ul class="list-nav">
            {% for link in section.settings.navigation.links %}
              <li class="nav-item">
                <a class="link" href="{{link.url}}"
                  ><span>{{ link.title }}</span></a
                >
                {% if link.links != blank %}
                  <ul class="list-nav-sub">
                    {% for child in link.links %}
                      <li class="nav-item-sub">
                        <a href="{{child.url}}">{{ child.title }}</a>
                      </li>
                    {% endfor %}
                  </ul>
                {% endif %}
              </li>
            {% endfor %}
          </ul>
        </div>
        <div class="right"></div>
      </div>
    </div>
  </div>
</div>
<div class="announce-bar"></div>
<div class="header-nav-overlay"></div>

<script>
  function hamburgerMenu() {
    const header = document.querySelector('.header');
    const hamburgerIcon = document.querySelector('.header-hamburger');
    const overlay = document.querySelector('.header-nav-overlay');

    hamburgerIcon.addEventListener('click', () => {
      hamburgerIcon.classList.toggle('is-active');
      header.classList.toggle('nav-active');
      document.body.classList.toggle('fixed');
    });

    overlay.addEventListener('click', () => {
      hamburgerIcon.classList.remove('is-active');
      header.classList.remove('nav-active');
      document.body.classList.remove('fixed');
    });
  }

  function allCateMenu() {
    const btnCate = document.querySelector('.btn-cate');
    const listCate = document.querySelector('.wrap-gnb-container');
    btnCate.addEventListener('click', () => {
      listCate.classList.toggle('active');
    });
  }
  function txtCreyongHover() {
    const cateItem = document.querySelector('.cate-item');
    const navItem = document.querySelector('.nav-item');
    navItem.addEventListener('mouseover', (e) => {
      e.preventDefault();
      this.classList.toggle('on');
    });
    navItem.addEventListener('mouseleave', (e) => {
      e.preventDefault();
      this.classList.remove('on');
    });
  }

  hamburgerMenu();
  allCateMenu();
  txtCreyongHover();
</script>

{% schema %}
{
  "name": "Header",
  "tag": "header",
  "class": "header",
  "settings": [
    {
      "type": "image_picker",
      "id": "logo",
      "label": "Logo 160*250"
    },
    {
      "type": "image_picker",
      "id": "banner01",
      "label": "banner 01"
    },
    {
      "type": "text",
      "id": "banner01_link",
      "label": "Banner01 link",
      "default": "Quick links"
    },
    {
      "type": "text",
      "id": "banner01_title",
      "label": "Banner01 title",
      "default": "banner 01"
    },
    {
      "type": "range",
      "id": "banner01_width",
      "label": "Banner01 width",
      "default": 200,
      "min": 50,
      "max": 550,
      "step": 5,
      "unit": "px"
    },

    {
      "type": "image_picker",
      "id": "banner02",
      "label": "banner 02"
    },
    {
      "type": "text",
      "id": "banner02_link",
      "label": "Banner02 link",
      "default": "Quick links"
    },
    {
      "type": "text",
      "id": "banner02_title",
      "label": "Banner02 title",
      "default": "title"
    },
    {
      "type": "range",
      "id": "banner02_width",
      "label": "Banner02 width",
      "default": 200,
      "min": 50,
      "max": 550,
      "step": 5,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "padding",
      "label": "Header height",
      "default": 24,
      "min": 5,
      "max": 100,
      "step": 1
    },
    {
      "type": "link_list",
      "id": "navigation",
      "label": "Navigation menu",
      "default": "main-menu"
    },
    {
      "type": "link_list",
      "id": "utilMenu",
      "label": "Util menu",
      "default": "main-menu"
    },
    {
      "type": "link_list",
      "id": "sideMenu",
      "label": "Side menu",
      "default": "main-menu"
    },
    {
      "type": "link_list",
      "id": "allMenu",
      "label": "All menu",
      "default": "main-menu"
    }
  ],
  "max_blocks": 5,
  "blocks": [
    {
      "name": "Util colum",
      "type": "utilmenu",
      "settings": [
        {
          "id": "linklist",
          "type": "link_list",
          "label": "Util menu"
        }
      ]
    },
    {
      "type": "image",
      "name": "Image",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image"
        },
        {
          "type": "range",
          "id": "image_width",
          "min": 50,
          "max": 550,
          "step": 5,
          "unit": "px",
          "label": "Image width",
          "default": 100
        },
        {
          "type": "select",
          "id": "alignment",
          "label": "Image alignment on large screen",
          "options": [
            {
              "value": "",
              "label": "Left"
            },
            {
              "value": "center",
              "label": "Center"
            },
            {
              "value": "right",
              "label": "Right"
            }
          ],
          "default": "center"
        }
      ]
    }
  ]
}
{% endschema %}
